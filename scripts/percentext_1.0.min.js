(function(e){function t(t,s,o){var u=e(t),a=6;n(u,a,s,o);var f=r(u,a,s);u.css(f);i(u)}function n(e,t,n,r){e.css({display:"inline",fontSize:t,letterSpacing:r.letterSpacing,textAlign:n.alignment,whiteSpace:"nowrap"})}function r(e,t,n){var r=e.parent(),i=r.width(),u=e.width(),a=u/i,f=n.percentage/100,l=i*f,c=1,h=.1,p,d;var v=s(t,a,f);e.css("font-size",v);if(f==1){var m=o(e,l,"font-size",v,c);p=m-c}else{p=v}e.css("font-size",p);var g=parseFloat(e.css("letter-spacing"));if(n.preciseMode){var y=o(e,l,"letter-spacing",g,h);d=y-h}else{d=g}return{fontSize:p,letterSpacing:d}}function i(e){e.css({display:"",whiteSpace:"",visibility:""})}function s(e,t,n){return Math.floor(e*n/t)}function o(e,t,n,r,i){while(e.width()<t){r+=i;e.css(n,r)}return r}e.fn.percentext=function(n){var r=e.extend({},e.fn.percentext.defaults,n);return this.each(function(){var n=this,i={letterSpacing:parseFloat(e(this).css("letter-spacing"))};e(this).css("visibility","hidden");e(window).bind("load resize",function(){console.log("yeah?");t(n,r,i)})})};e.fn.percentext.defaults={percentage:100,alignment:"left",preciseMode:true}})(jQuery)