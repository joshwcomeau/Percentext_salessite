<!DOCTYPE html>
<html>
<head>
  <title>Percentext, a nifty little jQuery plugin.</title>

  <!-- @reload -->

  <!-- @stylesheet style -->
  <!-- @stylesheet grid -->
  <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <script src="http://use.edgefonts.net/raleway:n3,n5,n7,n9;bowlby-one.js"></script>

  <!-- @javascript jquery_1.11.1 -->
  <!-- @javascript throttle-debounce_1.1.min -->
  <!-- @javascript patternizr.min -->
  <!-- @javascript patternizr_stripes -->
  <!-- @javascript percentext_1.0 -->
  <!-- @javascript scripts/* -->

  <script>
  $(document).ready(function() {

    var PARALLAX_PADDING = 200;

    var bg_color_classes = [ "bg_navy", "bg_blue", "bg_bbblue", "bg_aqua", "bg_green", "bg_grass", "bg_yellow", "bg_orange" ];
  
    var bgCanvas = document.getElementById('bgCanvas');
     
    function render() {
     
      bgCanvas.patternizer(bgStripes);
     
    }
     
    // resize the canvas to the window size
    function onResize() {
     
      // number of pixels of extra canvas drawn
      var buffer = 100;
   
      // if extra canvas size is less than the buffer amount
      if (bgCanvas.width - window.innerWidth < buffer ||
        bgCanvas.height - window.innerHeight < buffer) {
 
        // resize the canvas to window plus double the buffer
        bgCanvas.width = window.innerWidth + (buffer * 2);
        bgCanvas.height = window.innerHeight + (buffer * 2);
 
        render();
      }   
   
    }
     
    function init() {
        onResize();
        // create a listener for resize
        // cowboy's throttle plugin keeps this event from running hog wild
        window.addEventListener('resize', $.throttle(200, onResize), false);
    }



    // This simple scroller separates the sections by an ever-decreasing margin-top.
    // Starts at 100px when it enters the frame, winds up at 0px by the time it reaches the top.
    function parallax_scroller(boxes) {

      _(boxes).forEach(function(container) {        
        $(window).on("scroll load", function() {

          var 
          elem_top    = $(container).offset().top, 
          scroll_top  = $(window).scrollTop(),
          win_height  = $(window).height(),
          win_top, new_padding, padding_multiplier;

          // We only need to worry about calculations when the top of the container is inside the window.
          if ( scroll_top < elem_top < (scroll_top + win_height) ) {
            win_top = elem_top - scroll_top;
            padding_multiplier = win_top / win_height;
            new_padding = PARALLAX_PADDING * padding_multiplier;

            $(container).css("padding-top", new_padding);
          } else if (elem_top < scroll_top) {
            $(container).css("padding-top", "0px");
          }

        })
      });
    }

    // Because we have that fancy parallax effect, an element's offset from the top changes as you scroll.
    // Supply the number of sections between the element and the current position, and this will take it into account.
    function anchor_scroll(target, num_of_sections) {
      target_scroll = $(target).offset().top - (PARALLAX_PADDING * num_of_sections);
      $("html, body").animate({ scrollTop: target_scroll }, 2000);
    }

    $("#go_to_precise").on("click", function(ev) {
      anchor_scroll("#precise_mode_anchor", 2);
    });

    $("#button_1_learn_more").on("click", function() {
      anchor_scroll("#quick_start_anchor", 3);
    });

    // Function to change the background color of an element depending on its scroll height.
    // Essentially, I want the background color of selected elements to lighten as they move from the bottom of the
    // screen to the top.
    function silly_highlight_effect(lines) {
      var
      start_ratio   = 0.8,
      end_ratio     = 0.1,
      num_of_colors = bg_color_classes.length;

      $(lines).each(function(index) {
        var line = this;

        $(window).on("scroll", function() {
          var 
          elem_top    = $(line).offset().top, 
          scroll_top  = $(window).scrollTop(),
          win_height  = $(window).height(),
          win_top;

          if ( scroll_top < elem_top < (scroll_top + win_height) ) {
            win_top = elem_top - scroll_top;
            progress_multiplier = win_top / win_height;

            if ( end_ratio < progress_multiplier && progress_multiplier < start_ratio ) {
              $(line).addClass('line_effect_highlight');
            } else {
              $(line).removeClass('line_effect_highlight');
            }
          }
        });
      });
    }
     

    init();


    $("#title").percentext({letterSpacing: -4});
    $("#title_caption").percentext({width: 40, letterSpacing: -2});
    $("#title_description_desktop").percentext({minFontSize: 18});
    $(".mobile_title_desc_line").percentext();
    $(".line_text").percentext();
    $("#why_percentext_header").percentext({width: 75, letterSpacing: -3})
    $("#s2_title, #s4_title, #s5_title").percentext();
    $(".jungle .line1").percentext({width: 53, letterSpacing: -2});
    $(".jungle .line2").percentext({letterSpacing: -12});

    parallax_scroller(["#section_2", "#section_3", "#section_4", "#section_5"]); 
    silly_highlight_effect(".line_effect");

  });
  </script>

</head>

<body>
  <canvas id="bgCanvas"></canvas>
  <div id="wrapper">
    <section id="section_1" class="main_section">

      <div class="top_black_bars">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </div>

      <div class="title_area">
        <h5 id="title_caption">
          Allow me to introduce
        </h5>
        <h1 id="title">
          Percentext<span class="title_extension">.js</span>
        </h1>

        <div class="divider_with_icon" id="title_divider">
          <div class="icon_holder">
            <img src="percentext_icon.png" class="percentext_icon">
          </div>
        </div>

        <div id="title_description">
        
          <h6 id="title_description_desktop">
            The jQuery plugin that adjusts <em>font-size</em> and <em>letter-spacing</em>, so you can set a <em>percentage width</em> for your headers.
          </h6>
          <h6 id="title_description_mobile">

            <div>
              <h4 class="mobile_title_desc_line">
                The jQuery plugin that adjusts <em>font-size</em> and <em>letter-spacing</em>,
              </h4>
            </div>
            <div>
              <h4 class="mobile_title_desc_line">
                so you can set a <em>percentage width</em> for your headers.
              </h4>
            </div>
          </h6>
        </div>

        <div id="main_button_holder">
          <div id="button_1_learn_more">Quick Start Guide
          </div><div id="button_2_github">Download on GitHub</div>
        </div>
      </div>
    </section>

    <section id="section_2" class="main_section">
      <div class="section_dark_bg">
        <h2 id="s2_title" style="">A Quick Demonstration.</h2>
        <div class="space_taker"></div>

        <div id="section_2_main_wrapper">

          <div id="section_2_text">
            <div class="s2_line">
              <div class="line_text bo">Wouldn't it be nice</div>
              <div class="line_effect"></div>
            </div>
            <div class="s2_line">
              <div class="line_text">if you could style text</div>
              <div class="line_effect"></div>
            </div>
            <div class="s2_line">
              <div class="line_text">just like any other element?</div>
              <div class="line_effect"></div>
            </div>
            <div class="s2_line">
              <div class="line_text">Why specify text in terms of font size</div>
              <div class="line_effect"></div>
            </div>
            <div class="s2_line">
              <div class="line_text">when you specify <em>everything else</em> in terms of width?</div>
              <div class="line_effect"></div>
            </div>
            <div class="s2_line">
              <div class="line_text">I just wanted each of these lines to take up 100% of their parent,</div>
              <div class="line_effect"></div>
            </div>
            <div class="s2_line">
              <div class="line_text">and to do so in a responsive way using CSS alone would have been... unpleasant.</div>
              <div class="line_effect"></div>
            </div>
          </div>

          
        </div>
      </div>
    </section>

    <section id="section_3" class="main_section">
      <div class="section_dark_bg">
        <div class="grid" id="s3_grid">
          <!-- "Why Percentext?" Column -->
          <div class="c8 full_height">
            
            <h2 id="why_percentext_header">Why Percentext?</h2>
            <div id="why_percentext_container">
              <p>Percentext brings traditional DOM arrangement to text-based elements, allowing developers and designers the ability to quickly, easily and responsively size headers to be 'just right' across devices. </p>
              
              <h4>Alternatives</h4>
              <p>Many people who find it irksome to deal with font sizes use <a href="http://fittextjs.com/">FitText.js</a>. FitText is a great little plugin, but it isn't quite the same as Percentext. FitText arbitrarily sets font-size to be equal to a fraction of the parent container's width, allowing users to tweak via a 'compressor' to get the size just right.</p>

              <h4>Pros and Cons</h4>
              <p>Percentext's advantage is that it allows you to set a percentage and be done with it&mdash;no tweaking required. It also lets you achieve some pretty cool effects, without much work. The downside to this convenience is performance; FitText is a very simple plugin that works lightning fast. Percentext is pretty quick too, but it can be a bit sluggish if you have many headers that you wish to size in <a href="#preciseMode" id="go_to_precise">preciseMode</a>.</p>

              
            </div>
          </div>
          <!-- -->

          <!-- Decorative "Math Tools" Column -->
          <div class="c4 full_height" id="mathtools_column">
          
            <div id="mathtools">
              <!-- @include mathtools -->
            </div>
          </div>
          <!-- -->
        </div>
      </div>
      <div class="s3_line_decoration_container">
        <div class="s3_line_decoration"></div>
      </div>
    </section>

    <a id="quick_start_anchor"></a>
    <section id="section_4" class="main_section">
      <h2 id="s4_title">Quick Start Guide.</h2>
      <div class="section_dark_bg">
        <div class="grid padded_grid">
          <div class="c6">
            <h4 class="s4_header">Installation</h4><div class="s4_header_edge"></div>
            <div class="s4_textblock">
              <h3 class="quickstart_header">Installation is a piece of cake! Here are some steps:</h3>
              <ol>
                <li data-number="1.">First thing's first, make sure you have <a href="http://jquery.com/download/">jQuery</a> installed! Percentext depends on it.</li>
                <li data-number="2.">Download <a href="#">Percentext.js</a> from GitHub.</li>
                <li data-number="3.">Throw your new download into your project folder. Right next to all the other scripts. It'll fit right in. 
                <li data-number="4.">
                  Include the following line of HTML into the 
                  <span class="code code_inline"><span class="tag">&lt;head&gt;</span></span> 
                  section of the page(s) you want to use Percentext in:
                  <br>
                  <div class="code code_block">
                       <span class="tag">&lt;script</span> 
                       <span class="attr">type</span>=<!--
                    --><span class="val">"text/javascript"</span> 
                       <span class="attr">src</span>=<!--
                    --><span class="val">"path/to/percentext.js"</span><!--
                    --><span class="tag">&gt;</span>
                  </div>
                </li>

                <li data-number="5.">That's it! You're loaded and ready to rock.</li>
              </ol>
              <div class="PENGUIN"><!-- @include penguin.html --></div>
              <footer class="tiny centered"><strong>Coming soon:</strong> npm package and rails gem for even easier installation!?</footer>
            
            </div>
          </div>
          <div class="c6">
            <h4 class="s4_header">Usage</h4><div class="s4_header_edge"></div>
            <div class="s4_textblock">
              <h3 class="quickstart_header">Percentext is super easy to use.</h3>
              <p>If you're happy with the default settings, you can just call it on any element you want:</p>
              <div class="code code_block">
                <span class="val">$</span>(<span class="string">".some-class"</span>).percentext();
              </div>
              <p>The default assumes you want the header's text to take up 100% of the width. If you want to specify a custom width, you can do so in the following ways:</p>
              <div class="code code_block">
                <span class="comment">// As a percentage:</span><br>
                <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({ <span class="object">width: <span class="string">"80%"</span></span> });<br>
                <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({ <span class="object">width: <span class="tag">80</span></span> });
                <br><br>
                <span class="comment">// As a pixel value:</span><br>
                <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({ <span class="object">width: <span class="string">"500px"</span></span> });
              </div>

              <p>There are a whole bunch of ways to customize Percentext to suit your needs (see below), but one more critical option to know about: <strong class="red_text">Precise Mode</strong>.</p>
              <p>Precise mode isn't happy to just grab the most appropriate font size, it uses letter spacing to try and match your requested width <em>to the pixel</em>. The downside is it can be pretty greedy with your CPU's cycles. If you're noticing the performance of Percentext leaves something to be desired, turn it off like so:</p>

              <div class="code code_block">
                <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({ <span class="object">preciseMode: <span class="attr">false</span></span> });<br>
              </div>



              
            </div>
          </div>
      </div>
    </section>

    <section id="section_5" class="main_section">
      <div id="s5_title">The Documentation.</div>
      <div class="section_light_bg">
        <h3 class="s5_header">Customizing with Options</h3>
        <p>
          Percentext features a number of options that allow you to change how the plugin works. Most are pretty self-explanatory, but there are some pretty cool tweaks that might not be immediately obvious.
        </p>

        <a id="precise_mode_anchor"></a>

        <div class="grid options_grid">
<!--      <div class="bottom_triangle_big"></div>
          <div class="bottom_triangle_small"></div>
 -->          
          <div class="c4">
            <div class="option_container">
              <div class="option_header">width<h6 class="default">Default: <span class="mono">100</span></h6></div>
              <div class="option_text">
                <h6 class="accepted">
                  <strong>Accepted values:</strong> <span class="mono"><span class="n">n</span>, "<span class="n">n</span>%", "<span class="n">n</span>px"</span>, where <span class="n">n</span> is any integer.
                </h6>
                <p class="description">The meat of the plugin. Will adjust font size so that the text element takes up the specified width. Can be given in pixels or as a percentage of the parent container. Only works on single-line text elements.</p>
                <div class="code code_block tiny">
                  <span class="comment">// Example, takes up 400 pixels</span><br>
                  <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({
                  <br>&nbsp;&nbsp;<span class="object">width: <span class="string">"400px"</span></span> 
                  <br>});
                </div>
              </div>
            </div>

            <div class="option_container">
              <div class="option_header">letterSpacing<h6 class="default">Default: <span class="mono">100</span></h6></div>
              <div class="option_text">
                <h6 class="accepted">
                  <strong>Accepted values:</strong> Any number
                </h6>
                <p class="description">Provide a value, in pixels, for desired letter spacing. Note that Percentext will examine your CSS for <span class="mono">letter-spacing</span>, so you can provide it there instead. If it is provided in both places, <em>Percentext will prioritize the value submitted through this option.</em></p>
                
                <p class="description"><strong class="red_text">letterSpacing and preciseMode:</strong> please note that if you have <span class="mono">preciseMode</span> enabled, Percentext will use this value as the starting point, and may adjust it to achieve a perfect fit.</p>
                <div class="code code_block tiny">
                  <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({
                  <br>&nbsp;&nbsp;<span class="object">letterSpacing: <span class="tag">-3</span></span> 
                  <br>});
                </div>
              </div>
            </div>

            



          </div>
          <div class="c4">

            <div class="option_container">
              <div class="option_header">preciseMode<h6 class="default">Default: <span class="mono">true</span></h6></div>
              <div class="option_text">
                <h6 class="accepted">
                  <strong>Accepted values:</strong> <span class="mono">true, false</span>
                </h6>
                <p class="description">Precise mode uses line spacing to fine-tune the text element to take up as close to the desired width as possible. Set to <span class="mono">false</span> when you don't need pixel-perfection, to improve performance.</p>
                <div class="code code_block tiny">
                  <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({
                  <br>&nbsp;&nbsp;<span class="object">width: <span class="tag">40</span>,
                  <br>&nbsp;&nbsp;preciseMode: <span class="attr">false</span></span> 
                  <br>});
                </div>
              </div>
            </div>

            <div class="option_container">
              <div class="option_header">relativeSpacing<h6 class="default">Default: <span class="mono">true</span></h6></div>
              <div class="option_text">
                <h6 class="accepted">
                  <strong>Accepted values:</strong> <span class="mono">true, false</span>
                </h6>
                <p class="description">If a custom value is passed in for <span class="mono">letterSpacing</span>, this boolean will decide whether to scale that value depending on the font size, or use the given value as absolute, regardless of font size.</strong></p>
                <div class="code code_block tiny">
                  <span class="comment">// letterSpacing will always be 2px.</span><br>
                  <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({
                  <br>&nbsp;&nbsp;<span class="object">letterSpacing: <span class="tag">2</span>,
                  <br>&nbsp;&nbsp;relativeSpacing: <span class="attr">false</span></span> 
                  <br>});

                  <br><br><br><span class="comment">// letterSpacing will scale with font size.</span><br>
                  <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({
                  <br>&nbsp;&nbsp;<span class="object">letterSpacing: <span class="tag">2</span>
                  <br>});
                </div>
              </div>
            </div>

          </div>
          <div class="c4">


            <div class="option_container">
              <div class="option_header">textAlign<h6 class="default">Default: <span class="mono">null</span></h6></div>
              <div class="option_text">
                <h6 class="accepted">
                  <strong>Accepted values:</strong> <span class="mono">left, right, center, justify</span>
                </h6>
                <p class="description">Set the desired alignment for your text. Acts as a higher specificity than applying CSS directly to the element.</p>
                <div class="code code_block tiny">
                  <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({
                  <br>&nbsp;&nbsp;<span class="object">textAlign: <span class="string">"right"</span></span> 
                  <br>});
                </div>
              </div>
            </div>

            <div class="option_container">
              <div class="option_header">minFontSize<h6 class="default">Default: <span class="mono">null</span></h6></div>
              <div class="option_text">
                <h6 class="accepted">
                  <strong>Accepted values:</strong> Any integer
                </h6>
                <p class="description">Limits Percentext from setting a font size below this supplied value. Given in pixels.</p>
                <div class="code code_block tiny">
                  <span class="comment">// Will not set font-size below 12px.</span><br>
                  <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({
                  <br>&nbsp;&nbsp;<span class="object">minFontSize: <span class="tag">12</span>
                  <br>});

                </div>
              </div>
            </div>

            <div class="option_container">
              <div class="option_header">maxFontSize<h6 class="default">Default: <span class="mono">null</span></h6></div>
              <div class="option_text">
                <h6 class="accepted">
                  <strong>Accepted values:</strong> Any integer
                </h6>
                <p class="description">Limits Percentext from setting a font size above this supplied value. Given in pixels.</p>
                <div class="code code_block tiny">
                  <span class="comment">// Will not set font-size above 60px.</span><br>
                  <span class="val">$</span>(<span class="string">".some-class"</span>).percentext({
                  <br>&nbsp;&nbsp;<span class="object">maxFontSize: <span class="tag">60</span>
                  <br>});

                </div>
              </div>
            </div>


          </div>
        </div>

        <section id="license">
          <h3 class="s5_header">License</h3>
          <p>
            This plugin released under the <strong>MIT open-source license</strong>. You can read all about it <a href="http://opensource.org/licenses/MIT">here</a>, but the long and short of it is you can do pretty much whatever you want with this plugin, personal or commercial, as long as you give me credit and don't hold me liable for anything.
          </p>
        </section>

        <section>
          <h3 class="s5_header">Known Bugs</h3>
          <p>All currently-unfixed known issues are listed here:</p>
          <ul>
            <li>
              <strong>Elements inside hidden parents.</strong> Percentext crashes if it's called on an element whose parent has been hidden with <span class="code code-inline">display: none;</span>. This is a pretty big deal, for those who want to hide sections with media queries, and I'm working on finding a solution.
            </li>
          </ul>
        </section>
      </div>
    
    </section>

  </div>



  <footer>
    <a href="/credits">Credits</a>
  </footer>
</body>
</html>

<!-- Lots of assumed knowledge. Good to specify it clearly for new developers or designers. -->