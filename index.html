<!DOCTYPE html>
<html>
<head>
  <title>Percentext, a nifty little jQuery plugin.</title>
  <!-- @reload -->

  <!-- @stylesheet style -->

  <script src="http://use.edgefonts.net/raleway:n3,n5,n7,n9;bowlby-one.js"></script>
  <!-- @javascript jquery_1.11.1 -->
  <!-- @javascript throttle-debounce_1.1.min -->
  <!-- @javascript patternizr.min -->
  <!-- @javascript patternizr_stripes -->
  <!-- @javascript percentext_1.0 -->
  <!-- @javascript scripts/* -->

  <script>
  $(document).ready(function() {
    var bgCanvas = document.getElementById('bgCanvas');
     
    function render() {
     
      bgCanvas.patternizer(bgStripes);
     
    }
     
    // resize the canvas to the window size
    function onResize() {
     
      // number of pixels of extra canvas drawn
      var buffer = 100;
   
      // if extra canvas size is less than the buffer amount
      if (bgCanvas.width - window.innerWidth < buffer ||
        bgCanvas.height - window.innerHeight < buffer) {
 
        // resize the canvas to window plus double the buffer
        bgCanvas.width = window.innerWidth + (buffer * 2);
        bgCanvas.height = window.innerHeight + (buffer * 2);
 
        render();
      }   
   
    }
     
    function init() {
        onResize();
        // create a listener for resize
        // cowboy's throttle plugin keeps this event from running hog wild
        window.addEventListener('resize', $.throttle(200, onResize), false);
    }


    // This simple scroller separates the sections by an ever-decreasing margin-top.
    // Starts at 100px when it enters the frame, winds up at say 5px by the time it reaches the top.
    function parallax_scroller(boxes) {
      var initial_margin = 100;

      _(boxes).forEach(function(container) {        
        $(window).scroll(function() {
          var 
          elem_top   = $(container).offset().top, 
          win_top    = elem_top - $(window).scrollTop(),
          new_margin = initial_margin / elem_top * win_top;

          $(container).css("margin-top", new_margin);

        })
      });
    }
     

    parallax_scroller(["#section_2"]); 
    init();

    $("#title").percentext({letterSpacing: -4});
    $("#title_caption").percentext({percentage: 40, letterSpacing: -2});
    $("#title_description_desktop").percentext();
    $("#s2_title").percentext();
    $(".s2_line").percentext();
  });
  </script>

</head>

<body>
  <canvas id="bgCanvas"></canvas>
  <div id="wrapper">
    <section id="section_1">

      <div class="top_black_bars">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </div>

      <div class="title_area">
        <h5 id="title_caption">
          Allow me to introduce
        </h5>
        <h1 id="title">
          Percentext<span class="title_extension">.js</span>
        </h1>

        <div class="divider_with_icon" id="title_divider">
          <div class="icon_holder">
            <img src="percentext_icon.png" class="percentext_icon">
          </div>
        </div>
        
        <h6 id="title_description_desktop">

          The jQuery plugin that adjusts <em>font-size</em> and <em>letter-spacing</em>, so you can set a <em>percentage width</em> for your headers.
        </h6>

        <div id="main_button_holder">
          <div id="button_1_learn_more">Learn More
          </div><div id="button_2_github">Download On GitHub</div>
        </div>
      </div>
    </section>

    <section id="section_2">
      <div id="s2_red_bar" style=""></div>
      <h2 id="s2_title" style="">A Quick Demonstration.</h2>

      
<!--       <div id="ruler">
        <div class="ruler_notch small"></div>
        <div class="ruler_notch large"></div>
        <div class="ruler_notch small"></div>
        <div class="ruler_notch large"></div>
        <div class="ruler_notch small"></div>
        <div class="ruler_notch large"></div>
        <div class="ruler_notch small"></div>
        <div class="ruler_notch large"></div>
        <div class="ruler_notch small"></div>
        <div class="ruler_notch large"></div>
        <div class="ruler_notch small"></div>
        <div class="ruler_notch large"></div>
        <div class="ruler_notch small"></div>
        <div class="ruler_notch large"></div>
        <div class="ruler_notch small"></div>
        <div class="ruler_notch large"></div>
        <div class="ruler_notch small"></div>
        <div class="ruler_notch large"></div>
        <div class="ruler_notch small"></div>
        <div class="ruler_notch large"></div>
        
        <div class="ruler_line"></div>
      </div>
 -->
      <div id="section_2_main_wrapper">

        <div id="section_2_text">
          <p class="s2_line" style="font-weight: 700;">The Problem.</p>
          <p class="s2_line">Text doesn't </p>
          <p class="s2_line">Want that div to take up 50% of the available width?</p>
          <p class="s2_line">No problem.</p>
          <p class="s2_line">Want that header to take up 50% of the available width?</p>
          <p class="s2_line">Well, shit.</p>
        </div>

        <div id="mathtools">
          <!-- @include mathtools -->
        </div>
      </div>
    </section>
  </div>


  <footer>
    <a href="/credits">Credits</a>
  </footer>
</body>
</html>